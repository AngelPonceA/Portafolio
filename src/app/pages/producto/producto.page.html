<app-navegacion>

  <div *ngIf="producto">
    <div class="etiquetas-container">
      <span class="etiqueta" *ngFor="let etiqueta of producto.etiquetas">{{ etiqueta | titlecase }}</span>
    </div>

    <ion-card class="producto-card">
      <img [src]="producto.imagen" class="producto-img" />
    
      <ion-card-header class="producto-header">
        <ion-card-title class="producto-nombre">{{ producto.producto_titulo | titlecase }}</ion-card-title>
        <ion-card-subtitle class="producto-descripcion">{{ producto.producto_descripcion | titlecase }}</ion-card-subtitle>

        <ion-card-subtitle *ngIf="!producto.precio_oferta" class="producto-precio-original">
          Precio: {{ producto.precio | number }} CLP
        </ion-card-subtitle>

        <ion-card-subtitle *ngIf="producto.precio_oferta && producto.precio_oferta < producto.precio" class="producto-precio-original-tachado">
          Precio original: {{ producto.precio | number }} CLP
        </ion-card-subtitle>

        <ion-card-subtitle *ngIf="producto.precio_oferta && producto.precio_oferta < producto.precio" class="producto-precio-oferta">
          Precio oferta: {{ producto.precio_oferta | number }} CLP
        </ion-card-subtitle>

        <ion-card-subtitle class="producto-stock">
          <ion-icon name="pricetag" slot="start"></ion-icon> Stock disponible: {{ producto.stock | number }}
        </ion-card-subtitle>
      </ion-card-header>
    </ion-card>

    <div class="mensaje-wsp-container">
      <ion-button expand="block" color="success" (click)="mensajeWhatsApp()">
        <ion-icon name="logo-whatsapp" slot="start"></ion-icon>
        Enviar mensaje
      </ion-button>
    </div>

    <div class="favorito-container">
      <ion-button class="favorito" (click)="toggleFavorito(producto)">
        <ion-icon [name]="isFavorito(producto) ? 'heart' : 'heart-outline'" slot="start"></ion-icon>
        {{ isFavorito(producto) ? 'Eliminar de favoritos' : 'Agregar a favoritos' }}
      </ion-button>
    </div>
  </div>
  
</app-navegacion>
