<app-navegacion>
  <ion-content>

    <div class="perfil-container" *ngIf="usuario && usuario.rol != 'invitado'; else invitado">

      <!-- Información del usuario -->
      <div class="info-usuario">
        <h2 class="perfil-titulo">Mi Perfil</h2>

        <div class="info-item">
          <label class="info-label">Correo Electrónico</label>
          <div class="info-card">
            <ion-icon name="mail-outline" class="info-icon"></ion-icon>
            <p class="info-text">{{ usuario.email }}</p>
          </div>
        </div>

        <div class="info-item">
          <label class="info-label">Nombre de Usuario</label>
          <div class="info-card">
            <ion-icon name="person-outline" class="info-icon"></ion-icon>
            <p class="info-text">{{ usuario.nombre }}</p>
          </div>
        </div>
      </div>

      <!-- Sección de botones -->
      <div class="acciones">
        <ion-button expand="block" class="accion-btn" fill="outline" [routerLink]="['/cambio-clave']">
          <ion-icon name="key" slot="start"></ion-icon>
          Cambiar Contraseña
        </ion-button>

        <ion-button expand="block" class="accion-btn" fill="outline" [routerLink]="['/cambio-nombre-usuario']">
          <ion-icon name="create" slot="start"></ion-icon>
          Cambiar Nombre de Usuario
        </ion-button>

        <ion-button expand="block" class="accion-btn" fill="outline" [routerLink]="['/historial-compra']">
          <ion-icon name="list" slot="start"></ion-icon>
          Historial de Compras
        </ion-button>

        <ion-button expand="block" class="accion-btn" fill="outline" [routerLink]="['/historial-ventas']">
          <ion-icon name="list" slot="start"></ion-icon>
          Historial de Ventas
        </ion-button>

        <ion-button expand="block" class="accion-btn cerrar-sesion-btn" fill="solid" color="danger" (click)="cerrarSesion()">
          <ion-icon name="log-out" slot="start"></ion-icon>
          Cerrar Sesión
        </ion-button>
      </div>

    </div>

    <!-- Vista para invitados -->
    <ng-template #invitado>
      <div class="invitado-container">
        <h2>¡Bienvenido!</h2>
        <p>¿Aún no tienes cuenta o ya tienes una? Elige una opción:</p>
        <ion-button expand="block" fill="solid" [routerLink]="['/registro']">
          <ion-icon name="person-add" slot="start"></ion-icon>
          Registrarse
        </ion-button>
    
        <ion-button expand="block" fill="solid" [routerLink]="['/ingreso']">
          <ion-icon name="log-in" slot="start"></ion-icon>
          Ingresar
        </ion-button>
      </div>
    </ng-template>

  </ion-content>
</app-navegacion>